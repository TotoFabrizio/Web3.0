<!DOCTYPE html>
<html>
    <head>
        <%- include("./partials/head") %>
        <title>Web 3.0 demo</title>
        <script defer src="/js/showEthAddress.js"></script>
    </head>
    <%- include("./partials/header") %>
    <body class="">
        <form
            class="d-flex justify-content-center mt-5"
            action="/users/register"
            method="post"
        >
            <div class="card" style="width: 500px">
                <h2 class="align-self-center">Register</h2>
                <div
                    class="alert alert-info"
                    role="alert"
                    id="userAddress"
                ></div>
                <input
                    type="text"
                    class="d-none"
                    aria-describedby="addon-wrapping"
                    name="ethAddress"
                    id="ethAddress"
                    value=""
                />
                <div class="input-group flex-nowrap">
                    <span class="input-group-text" id="addon-wrapping">
                        Email
                    </span>
                    <input
                        type="text"
                        class="form-control"
                        placeholder="Email"
                        aria-label="Email"
                        aria-describedby="addon-wrapping"
                        name="email"
                    />
                </div>
                <div class="input-group flex-nowrap">
                    <span class="input-group-text" id="addon-wrapping">
                        Username
                    </span>
                    <input
                        type="text"
                        class="form-control"
                        placeholder="Username"
                        aria-label="username"
                        aria-describedby="addon-wrapping"
                        name="username"
                    />
                </div>
                <div class="align-self-center mt-3">
                    <button type="submit" class="btn btn-secondary">
                        Register
                    </button>
                </div>
                <% if(typeof errors !="undefined" ) {%>
                <div class="alert alert-danger mt-3" role="alert">
                    <p>Errores</p>
                    <ul>
                        <% for(let i=0; i < errors.length; i++) {%>
                        <li><%= errors[i].msg %></li>
                        <% } %>
                    </ul>
                </div>
                <% } %>
            </div>
        </form>
    </body> 
    <script defer>
        document.getElementById("ethAddress").setAttribute("value",localStorage.getItem("userAddress"));
    </script> 
</html>
